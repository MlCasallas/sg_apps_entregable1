<!DOCTYPE html>
<!-- Indicamos que el documento sigue el estándar de HTML5 -->
<html lang="es">
  <!-- Declaramos que el idioma principal del documento es español -->
  <head>
    
    <!-- Declaramos la codificación de caracteres como UTF-8 para soportar caracteres especiales como ñ y tildes -->
    <meta charset="UTF-8" />
    
    <!-- Configuramos el viewport para que la página se vea bien en dispositivos móviles y sea responsiva -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- El título que se mostrará en la pestaña del navegador -->
    <title>Registro de Usuarios</title>
    
    <!-- Incluimos Bootstrap, un framework CSS que nos permite usar estilos predefinidos y diseño responsivo -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
    />
    
    <!-- Este script se encargará de gestionar el envío y la limpieza del formulario -->
    <script>
      function limpiarFormulario(event) {
        event.preventDefault(); // Evitamos el envío predeterminado del formulario para hacer algo más personalizado
        const form = event.target; // Obtenemos el formulario que originó el evento

        // Enviamos los datos del formulario usando fetch y el método POST
        fetch(form.action, {
          method: 'POST', // Especificamos que se usará el método POST
          body: new FormData(form), // Creamos un objeto FormData con los datos del formulario
        })
          .then(response => {
            if (response.ok) { // Si el servidor responde con éxito (código 200)
              alert("Registro exitoso"); // Mostramos un mensaje de éxito
              form.reset(); // Limpiamos el formulario después de enviarlo
            } else {
              alert("Hubo un error en el registro"); // Mostramos un mensaje si hay algún problema con el registro
            }
          })
          .catch(error => {
            alert("Hubo un error en la conexión"); // Mostramos un mensaje si hay un problema con la conexión
          });
      }
    </script>
  </head>
  
  <body class="container mt-5" style="background-color: #023b1b;">
    <!-- Aplicamos el color de fondo #023b1b al body usando "background-color" -->
    
    <!-- Un título principal que estará centrado gracias a la clase "text-center" de Bootstrap -->
    <h2 class="text-center text-white">Registro de Usuarios</h2>

    <!-- Formulario para enviar datos a "procesar.php" usando el método POST -->
    <!-- La función limpiarFormulario se ejecuta cuando el usuario intenta enviar el formulario -->
    <form action="procesar.php" method="POST" onsubmit="limpiarFormulario(event)">
      
      <!-- Campo de texto para que el usuario introduzca su nombre -->
      <div class="mb-3">
        <label for="nombre" class="form-label text-white">Nombre:</label>
        <!-- El input de tipo texto es obligatorio gracias al atributo "required" y tiene borde verde gracias a "border-success" -->
        <input
          type="text"
          name="nombre"
          class="form-control border-success"
          required
        />
      </div>

      <!-- Campo de texto para que el usuario introduzca su email -->
      <div class="mb-3">
        <label for="email" class="form-label text-white">Email:</label>
        <!-- El input de tipo "email" es validado automáticamente por el navegador, requiere un formato válido de correo -->
        <input
          type="email"
          name="email"
          class="form-control border-success"
          required
        />
      </div>

      <!-- Campo de texto para que el usuario introduzca una contraseña -->
      <div class="mb-3">
        <label for="password" class="form-label text-white">Contraseña:</label>
        <!-- El input de tipo "password" oculta el texto mientras se escribe -->
        <input
          type="password"
          name="password"
          class="form-control border-success"
          required
        />
      </div>

      <!-- Campo de selección para la fecha de nacimiento -->
      <div class="mb-3">
        <label for="fecha_nacimiento" class="form-label text-white">Fecha de Nacimiento:</label>
        <!-- Input de tipo "date" para que el usuario seleccione su fecha de nacimiento -->
        <input
          type="date"
          name="fecha_nacimiento"
          class="form-control border-success"
          required
        />
      </div>

      <!-- Campo de texto para el número de teléfono -->
      <div class="mb-3">
        <label for="telefono" class="form-label text-white">Teléfono:</label>
        <!-- Input de tipo "tel" que acepta números de teléfono, pero no valida el formato -->
        <input
          type="tel"
          name="telefono"
          class="form-control border-success"
          required
        />
      </div>

      <!-- Botón para enviar el formulario -->
      <div class="d-flex justify-content-center">
        <!-- Cambiamos la clase de "btn-primary" a "btn-success" para que el botón sea de color verde -->
        <button type="submit" class="btn btn-secondary">Registrar</button>
      </div>
    </form>
  </body>
</html>
